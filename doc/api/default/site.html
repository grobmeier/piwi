<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html lang="en">
<head>

<meta name="generator" content="PHPDoctor 2RC2 (http://phpdoctor.sourceforge.net/)">
<meta name="when" content="Thu, 23 Oct 2008 16:53:18 +0200">

<link rel="stylesheet" type="text/css" href="../stylesheet.css">
<link rel="start" href="../overview-summary.html">

<title>Site (Piwi - XML Transformation Framework)</title>

</head>
<body id="definition" onload="parent.document.title=document.title;">

<div class="header">
<h1>Piwi - XML Transformation Framework</h1>
<ul>
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="../default/package-summary.html">Package</a></li>
<li class="active">Class</li>
<li><a href="../default/package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../index.html" target="_top">Frames</a>
<a href="../default/site.html" target="_top">No frames</a>
</div>
<div class="small_links">
Summary: <a href="#summary_field">Field</a> | <a href="#summary_method">Method</a> | <a href="#summary_constr">Constr</a>
Detail: <a href="#detail_field">Field</a> | <a href="#detail_method">Method</a> | <a href="#summary_constr">Constr</a>
</div>
<hr>

<div class="qualifiedName">default.Site</div>

<h1>Class Site</h1>

<pre class="tree"><strong>Site</strong><br /></pre>

<hr>

<p class="signature">public abstract  class <strong>Site</strong></p>

<div class="comment" id="overview_description"><p>
Renders the requested page and creates the navigation.
/</p></div>

<hr>

<table id="summary_field">
<tr><th colspan="2">Field Summary</th></tr>
<tr>
<td class="type">private  mixed</td>
<td class="description"><p class="name"><a href="#content">$content</a></p><p class="description">The content of the requested page as DOMDocument. </p></td>
</tr>
<tr>
<td class="type">protected  mixed</td>
<td class="description"><p class="name"><a href="#contentPath">$contentPath</a></p><p class="description">Name of the folder where the content is placed. </p></td>
</tr>
<tr>
<td class="type">private static  mixed</td>
<td class="description"><p class="name"><a href="#siteInstance">$siteInstance</a></p><p class="description">Singleton instance of the Site. </p></td>
</tr>
<tr>
<td class="type">private  mixed</td>
<td class="description"><p class="name"><a href="#siteMap">$siteMap</a></p><p class="description">The 'SiteMap' which is an array of NavigationElements representing the whole website structure. </p></td>
</tr>
<tr>
<td class="type">private  mixed</td>
<td class="description"><p class="name"><a href="#template">$template</a></p><p class="description">The template of the requested page. </p></td>
</tr>
</table>

<table id="summary_method">
<tr><th colspan="2">Method Summary</th></tr>
<tr>
<td class="type">private  void</td>
<td class="description"><p class="name"><a href="#cutOffSiteMap()">cutOffSiteMap</a>(integer currentDepth, integer depth, <a href="../default/navigationelement.html">NavigationElement</a> navigationElement)</p><p class="description">
Removes all subitems in the given NavigationElement that exceed the given depth.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#generateContent()">generateContent</a>()</p><p class="description">
Reads the xml of the requested page and transforms the Generators to Piwi-XML.
</p></td>
</tr>
<tr>
<td class="type">protected abstract  integer</td>
<td class="description"><p class="name"><a href="#getCacheTime()">getCacheTime</a>()</p><p class="description">
Returns the cachetime (the time that may pass until the content of the page is regenerated).</p></td>
</tr>
<tr>
<td class="type"> DOMDocument</td>
<td class="description"><p class="name"><a href="#getContent()">getContent</a>()</p><p class="description">
Returns the content of the requested page as DOMDocument.</p></td>
</tr>
<tr>
<td class="type">protected abstract  string</td>
<td class="description"><p class="name"><a href="#getCustomNavigationGenerator()">getCustomNavigationGenerator</a>()</p><p class="description">
Returns the classname of the custom NavigationGenerator Class or null if not specified.</p></td>
</tr>
<tr>
<td class="type"> The</td>
<td class="description"><p class="name"><a href="#getCustomSiteMap()">getCustomSiteMap</a>(string id, integer depth, boolean includeParent)</p><p class="description">
Returns the 'SiteMap' which is an array of NavigationElements representing the website structure.
</p></td>
</tr>
<tr>
<td class="type">protected abstract  string</td>
<td class="description"><p class="name"><a href="#getCustomTemplate()">getCustomTemplate</a>()</p><p class="description">
Returns the template of the requested page or null if not specified.</p></td>
</tr>
<tr>
<td class="type">protected abstract  string</td>
<td class="description"><p class="name"><a href="#getFilePath()">getFilePath</a>()</p><p class="description">
Returns the path of the xml file containing the content of the requested page.</p></td>
</tr>
<tr>
<td class="type">protected abstract  array</td>
<td class="description"><p class="name"><a href="#getFullSiteMap()">getFullSiteMap</a>()</p><p class="description">
Returns the 'SiteMap' which is an array of NavigationElements representing the whole website structure.</p></td>
</tr>
<tr>
<td class="type">static  <a href="../default/site.html">Site</a></td>
<td class="description"><p class="name"><a href="#getInstance()">getInstance</a>()</p><p class="description">
Returns the singleton instance of the Site.</p></td>
</tr>
<tr>
<td class="type"> <a href="../default/navigationgenerator.html">NavigationGenerator</a></td>
<td class="description"><p class="name"><a href="#getNavigationGenerator()">getNavigationGenerator</a>()</p><p class="description">
Returns the NavigationGenerator which should be used to generate the navigation.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#getSerializer()">getSerializer</a>()</p><p class="description">
Returns the Serializer for the given extension.
</p></td>
</tr>
<tr>
<td class="type">private  <a href="../default/navigationelement.html">NavigationElement</a></td>
<td class="description"><p class="name"><a href="#getSiteMapItemsById()">getSiteMapItemsById</a>(array siteMap, string id, <a href="../default/navigationelement.html">NavigationElement</a> foundElement)</p><p class="description">
Returns the NavigationElement with the given in id or null if no item is found.</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#getTemplate()">getTemplate</a>()</p><p class="description">
Returns the template of the requested page.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#setContent()">setContent</a>(string content)</p><p class="description">
Sets the content of the page.</p></td>
</tr>
<tr>
<td class="type">static  void</td>
<td class="description"><p class="name"><a href="#setInstance()">setInstance</a>(<a href="../default/site.html">Site</a> site)</p><p class="description">
Sets the singleton instance of the Site.</p></td>
</tr>
</table>

<h2 id="detail_field">Field Detail</h2>
<h3 id="content">content</h3>
<code class="signature">private  mixed <strong>$content</strong> = null</code>
<div class="details">
<p>The content of the requested page as DOMDocument. */</p></div>

<hr>

<h3 id="contentPath">contentPath</h3>
<code class="signature">protected  mixed <strong>$contentPath</strong> = null</code>
<div class="details">
<p>Name of the folder where the content is placed. */</p></div>

<hr>

<h3 id="siteInstance">siteInstance</h3>
<code class="signature">private static  mixed <strong>$siteInstance</strong> = null</code>
<div class="details">
<p>Singleton instance of the Site. */</p></div>

<hr>

<h3 id="siteMap">siteMap</h3>
<code class="signature">private  mixed <strong>$siteMap</strong> = null</code>
<div class="details">
<p>The 'SiteMap' which is an array of NavigationElements representing the whole website structure. */</p></div>

<hr>

<h3 id="template">template</h3>
<code class="signature">private  mixed <strong>$template</strong> = "default.php"</code>
<div class="details">
<p>The template of the requested page. */</p></div>

<hr>

<h2 id="detail_method">Method Detail</h2>
<h3 id="cutOffSiteMap()">cutOffSiteMap</h3>
<code class="signature">private  void <strong>cutOffSiteMap</strong>(integer currentDepth, integer depth, <a href="../default/navigationelement.html">NavigationElement</a> navigationElement)</code>
<div class="details">
<p>
Removes all subitems in the given NavigationElement that exceed the given depth.</p><dl>
<dt>Parameters:</dt>
<dd>currentDepth - The current depth.</dd>
<dd>depth - description The desired depth.</dd>
<dd>navigationElement - The NavigationElement whose children should be cut off.</dd>
</dl>
</div>

<hr>

<h3 id="generateContent()">generateContent</h3>
<code class="signature">public  void <strong>generateContent</strong>()</code>
<div class="details">
<p>
Reads the xml of the requested page and transforms the Generators to Piwi-XML.
/</p></div>

<hr>

<h3 id="getCacheTime()">getCacheTime</h3>
<code class="signature">protected abstract  integer <strong>getCacheTime</strong>()</code>
<div class="details">
<p>
Returns the cachetime (the time that may pass until the content of the page is regenerated).</p><dl>
<dt>Returns:</dt>
<dd>The cachetime.</dd>
</dl>
</div>

<hr>

<h3 id="getContent()">getContent</h3>
<code class="signature">public  DOMDocument <strong>getContent</strong>()</code>
<div class="details">
<p>
Returns the content of the requested page as DOMDocument.</p><dl>
<dt>Returns:</dt>
<dd>The content of the requested page as DOMDocument.</dd>
</dl>
</div>

<hr>

<h3 id="getCustomNavigationGenerator()">getCustomNavigationGenerator</h3>
<code class="signature">protected abstract  string <strong>getCustomNavigationGenerator</strong>()</code>
<div class="details">
<p>
Returns the classname of the custom NavigationGenerator Class or null if not specified.</p><dl>
<dt>Returns:</dt>
<dd>The classname of the custom NavigationGenerator Class or null if not specified.</dd>
</dl>
</div>

<hr>

<h3 id="getCustomSiteMap()">getCustomSiteMap</h3>
<code class="signature">public  The <strong>getCustomSiteMap</strong>(string id, integer depth, boolean includeParent)</code>
<div class="details">
<p>
Returns the 'SiteMap' which is an array of NavigationElements representing the website structure.
It is possible to retrieve only certain parts of the 'SiteMap'.</p><dl>
<dt>Parameters:</dt>
<dd>id - Returns only the NavigationElement with this id and its subitems. Set to 'null' if all NavigationElements should be returned.</dd>
<dd>depth - Determinates the maximum number of subitems that will be returned. Set to '-1' for full depth, to '0' only for parent items.</dd>
<dd>includeParent - If false only the children of the parent will be returned. This can only be used if $id is not 'null'.</dd>
<dt>Returns:</dt>
<dd>'SiteMap' which is an array of NavigationElements representing the website structure.</dd>
</dl>
</div>

<hr>

<h3 id="getCustomTemplate()">getCustomTemplate</h3>
<code class="signature">protected abstract  string <strong>getCustomTemplate</strong>()</code>
<div class="details">
<p>
Returns the template of the requested page or null if not specified.</p><dl>
<dt>Returns:</dt>
<dd>The template of the requested page.</dd>
</dl>
</div>

<hr>

<h3 id="getFilePath()">getFilePath</h3>
<code class="signature">protected abstract  string <strong>getFilePath</strong>()</code>
<div class="details">
<p>
Returns the path of the xml file containing the content of the requested page.</p><dl>
<dt>Returns:</dt>
<dd>The path of the xml file containing the content of the requested page.</dd>
</dl>
</div>

<hr>

<h3 id="getFullSiteMap()">getFullSiteMap</h3>
<code class="signature">protected abstract  array <strong>getFullSiteMap</strong>()</code>
<div class="details">
<p>
Returns the 'SiteMap' which is an array of NavigationElements representing the whole website structure.</p><dl>
<dt>Returns:</dt>
<dd>Array of NavigationElements representing the whole website structure.</dd>
</dl>
</div>

<hr>

<h3 id="getInstance()">getInstance</h3>
<code class="signature">public static  <a href="../default/site.html">Site</a> <strong>getInstance</strong>()</code>
<div class="details">
<p>
Returns the singleton instance of the Site.</p><dl>
<dt>Returns:</dt>
<dd>The singleton instance of the Site.</dd>
</dl>
</div>

<hr>

<h3 id="getNavigationGenerator()">getNavigationGenerator</h3>
<code class="signature">public  <a href="../default/navigationgenerator.html">NavigationGenerator</a> <strong>getNavigationGenerator</strong>()</code>
<div class="details">
<p>
Returns the NavigationGenerator which should be used to generate the navigation.</p><dl>
<dt>Returns:</dt>
<dd>The navigation generator.</dd>
</dl>
</div>

<hr>

<h3 id="getSerializer()">getSerializer</h3>
<code class="signature">public  void <strong>getSerializer</strong>()</code>
<div class="details">
<p>
Returns the Serializer for the given extension.
/</p></div>

<hr>

<h3 id="getSiteMapItemsById()">getSiteMapItemsById</h3>
<code class="signature">private  <a href="../default/navigationelement.html">NavigationElement</a> <strong>getSiteMapItemsById</strong>(array siteMap, string id, <a href="../default/navigationelement.html">NavigationElement</a> foundElement)</code>
<div class="details">
<p>
Returns the NavigationElement with the given in id or null if no item is found.</p><dl>
<dt>Parameters:</dt>
<dd>siteMap - The array of NavigationElements to search in.</dd>
<dd>id - The id of the NavigationElement.</dd>
<dd>foundElement - The NavigationElement with the given in id or null if no item has been found yet.</dd>
<dt>Returns:</dt>
<dd>The NavigationElement with the given in id or null if no item is found.</dd>
</dl>
</div>

<hr>

<h3 id="getTemplate()">getTemplate</h3>
<code class="signature">public  string <strong>getTemplate</strong>()</code>
<div class="details">
<p>
Returns the template of the requested page.</p><dl>
<dt>Returns:</dt>
<dd>The template of the requested page.</dd>
</dl>
</div>

<hr>

<h3 id="setContent()">setContent</h3>
<code class="signature">public  void <strong>setContent</strong>(string content)</code>
<div class="details">
<p>
Sets the content of the page.</p><dl>
<dt>Parameters:</dt>
<dd>content - The content as xml.</dd>
</dl>
</div>

<hr>

<h3 id="setInstance()">setInstance</h3>
<code class="signature">public static  void <strong>setInstance</strong>(<a href="../default/site.html">Site</a> site)</code>
<div class="details">
<p>
Sets the singleton instance of the Site.</p><dl>
<dt>Parameters:</dt>
<dd>site - The singleton instance of the Site.</dd>
</dl>
</div>

<hr>

<div class="header">
<h1>Piwi - XML Transformation Framework</h1>
<ul>
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="../default/package-summary.html">Package</a></li>
<li class="active">Class</li>
<li><a href="../default/package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../index.html" target="_top">Frames</a>
<a href="../default/site.html" target="_top">No frames</a>
</div>
<div class="small_links">
Summary: <a href="#summary_field">Field</a> | <a href="#summary_method">Method</a> | <a href="#summary_constr">Constr</a>
Detail: <a href="#detail_field">Field</a> | <a href="#detail_method">Method</a> | <a href="#summary_constr">Constr</a>
</div>
<hr>

<p id="footer">This document was generated by <a href=http://phpdoctor.sourceforge.net/>PHPDoctor: The PHP Documentation Creator</a></p>

</body>

</html>